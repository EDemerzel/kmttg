#labels Featured
=RELEASE NOTES=

==v0p7i (2/13/2010)==

*IMPORTANT NOTE: Some encoding profiles were updated in this release, so if upgrading from a previous version be sure to update your installation encode folder.*

*ENHANCEMENTS*

   * Main GUI stretchable panels can now stretch full range vertically instead of a limited range.
   
   * Improved Auto Transfers GUI so that can be more easily stretched vertically and horizontally without becoming unusable.
   
   * Added new config option (Visual tab) called *Auto size NPL column widths*. If enabled then NPL table column widths are automatically sized to fit text as in previous releases. If disabled then column widths are not auto sized and user can set their preferred fixed widths, and the column widths are saved between GUI sessions.
   
   * For the *Encode using VideoRedo* option (with VideoRedo TVSuite 4) now all encoding profile types are available as an option rather than just MP4 & WMV types.
         
*CHANGES*

   * When *Bring up VRD GUI to make manual cuts* option is enabled the *vrdreview* task now checks for expected output file: {{{"<file> (02).mpg" or "<file>_cut.mpg"}}}. If one of those files is not found once task completes (user closes VideoRedo) then task is marked as failed and kmttg won't look to delete input files if *Remove .mpg file after Ad Cut* option is also enabled. This is to prevent possibility of losing input mpeg file when VideoRedo GUI is accidently closed before user generates expected output file.

   * Per user feedback added "-noskip -mpegopts vbuf_size=400" to mencoder command for comcut task.
   
   * For config dialog there is now a tab scrollbar added if there is not enough space to fit all tabs horizontally instead of wrapping tabs around vertically as was the case in previous releases.
   
   * Config dialog tab changes: *Visual* tab was added in place of *General* for all GUI visual related settings and remaining former *General* tab items were moved to *Program Options* tab.
   
   * Removed *HD Channels* folder in folder view as almost all feedback for that folder was negative.
         
*FIXES*

   * Fixed issue with initiating push task in FILES mode when pyTivo *Files to push* setting was set to *all*. In prior releases this would result in error and Java trace dump due to null string problem.

   * Added *-level 41* to ff_tivo_hd & ff_tivo_sd profiles for TiVo compatibility (TiVo does not accept H.264 > level 41). Also updated those profiles and increased the video bit rates for much better quality results.

==v0p7h (1/29/2010)==

*IMPORTANT NOTE: Encoding profiles were updated to work with newer ffmpeg build so if upgrading from a previous version make sure you install kmttg to a new location so as to automatically get the updated encoding profiles and tool binaries. Many of the encoding profiles changed to work with newer ffmpeg build and are not backwards compatible. If using auto transfers you can copy auto.ini file from your previous installation folder to copy over your auto transfers setup.*

*ENHANCEMENTS*

   * Changed GUI to use stretchable panes so that now it is possible to resize the Now Playing List table relative to bottom panes as well as resize Job pane relative to Message pane. The tasks row and encoding row in main GUI were also modified not to stretch with main window for more compact horizontal spacing and better look.
  
   * *download* task now displays current transfer rate (in Mbps) in the STATUS column of Job Monitor. The rate indicates current transfer rate by computing # of bytes downloaded over last 5 seconds or so. This can be useful metric to have when trying to optimize/speed up transfers by tuning to blank channels, pausing playback, etc.
  
   * Several VideoRedo related enhancements:
      * Now when you cancel VideoRedo related jobs VideoRedo will actually be stopped as well. Previously the cscript job was killed but VideoRedo would continue running.
      * All VideoRedo related tasks now have percent completion included.
      * New *Allow multiple VideoRedo jobs at once* option which if enabled allows multiple VideoRedo tasks to run at the same time. Enabling this option works around a bug in VideoRedo which does not allow more than 1 "silent" version of VideoRedo to run at once. Side effect of enabling this option is for each VideoRedo task the initial GUI will popup momentarily before hiding itself from view if you are running kmttg in GUI mode.
      * New *Encode using VideoRedo* option available. If you have VideoRedo TVSuite 4 this enables you to use built in and/or custom VideoRedo encoding profiles for the "encode" task. kmttg will automatically switch to show available VideoRedo mp4 & wmv encoding profiles if this option is enabled.

   * Config option added under General tab: *Do not show copy protected files in table*. Enabling this option filters out copy protected shows from being listed in TiVo Now Playing Lists.
  
   * Config option added under General tab: *Min # Channel Digits* which sets minimum number of digits to use for channel numbers. Leading channel number will be padded with zeros if shorter than this number. For example:
      {{{
         1 => channel 2 = 2;    channel 704 = 704
         2 => channel 2 = 02;   channel 704 = 704
         3 => channel 2 = 002;  channel 704 = 704
         4 => channel 2 = 0002; channel 704 = 0704
      }}}
     
*CHANGES*

   * Updated default ffmpeg to newer version. Also updated encoding profiles to work with newer ffmpeg.
  
   * Updated default win32 & Mac OSX tools zip package to use newer ffmpeg & handbrake executables. 
  
   * x264 encoding updated to work with newer ffmpeg for the following profiles:
   ff_h264_high_rate, ff_h264_med_rate, ff_ps3, ff_tivo_hd, ff_tivo_sd, ff_xbox360
  
   * Switched to use *aac* codec instead of *libfaac* and *mpeg4* instead of *libxvid* for the following profiles to support newer ffmpeg:
   ff_iphone, ff_ipod_hig_res, ff_ipod_low_res, ff_psp, ff_xbox360, ff_zune_hd, ff_zune_mp4
  
   * Changed pyTivo *push* task http timeout from 10 to 60 seconds.
  
   * Update to *ff_psp* profile to use h.264 instead of mpeg4 video codec and also to use higher resolution.
  
   * *vrdencode* graphical task no longer prevents other VideoRedo non-graphical tasks from running. There is still a limit of 1 at a time graphical or non-graphical VideoRedo job however unless you set the *Allow multiple VideoRedo jobs at once* option.
  
   * A few user supplied changes to AtomicParsley runs:
      * --tracknum & --album settings added.
      * --TVSeasonNum used instead of --TVSeason.
      * Added "Season #" to --title entry if season # exists.
      * Non-pyTivo "season" and "episode" metadata tags are processed if they exist in metadata file.
      * Non-pyTivo "artwork" metadata tag is processed if it exists in metadata file.

   * Some aesthetic changes made to Auto Transfers config GUI: rearranged some options and moved Add/Update/Del buttons below all the options to which they apply.
        
   * Initiated jobs now immediately show "started" in job table. Previously they would show "queued" until job statistics started to display.
  
*FIXES*

   * Moved font size setting function to before pack call to prevent UI freezes when kmttg first starts with Java 1.5 (Java 1.6 was not a problem).
  
   * Added additional handling of special characters in file names to avoid potential problems with helper applications. All special character handling in file names is now documented in configuring_kmttg Wiki page.
  
   * Fix to work with pyTivo share paths specified in pyTivo.conf ending in slash/backslash
  
   * Copy protected in progress transfers are now marked with blue in progress transfer icon & blue background. (Previously copy protected status was shown no matter what the transfer status).
  
   * Added missing -y option to *ff_zune_hd* profile.

==v0p7g (01/01/2010)==

NOTE: This version contains updates to encoding profiles so if you are upgrading an older kmttg version be sure to update the *encode* folder with files from this new release.

*ENHANCEMENTS*
   
   * Added *ff_iphone* & *ff_zune_mp4* encoding profiles.
   
   * Added a localized *Filter out TiVo Suggestions* filter for individual auto transfer entries in addition to the Global filter. Note that if Global filter is enabled it overrides any individual auto entry filter setting.
   
   * Added *tivoFile* to list of choices for metadata generation and for push task.
      
*CHANGES*
   
   * Auto Matching algorithm update: Previously as soon as a show was matched or filtered out versus an auto entry then no further auto entries were processed. Starting with this release a show is always matched against all auto entries. In the case of multiple matches the show will still only be processed once. This change was needed in support of the localized Suggestions filter mentioned above.   

*FIXES*

   * Fixed *ff_ipod_low_res* and *ff_ipod_high_res* encoding profiles.

==v0p7f (12/06/2009)==

*ENHANCEMENTS*
   * Added new config option for specifying text font size (in General tab)
   
   * Two extra options added to kmttg config useful to Australia/New Zealand TiVo users which have option of downloading TiVo files in Transport Stream format:
      * *Download TiVo files in Transport Stream format* (Program Options tab) - Adds *&Format=video/x-tivo-mpeg-ts* tag to downloads to force them to be downloaded in Transport Stream format.
      * *Decrypt using VideoRedo instead of tivodecode* (VideoRedo tab) - Use VideoRedo QSFix job to decrypt .TiVo files instead of tivodecode which doesn't work for TS TiVo files.
      * This is also useful to skip *decrypt* task completely and jump straight to *VRD QS Fix* task to do decryption and QS Fix all in 1 step.
      NOTE: This requires TiVoDirectShowFilter.dll to be installed and registered which means a minimal TiVo Desktop installation is needed. (You can fully install TiVo Desktop and register your MAK ID and then uninstall it with option to keep a minimal install capable of playing .TiVo files).
      
*CHANGES*
   * If *Bring up VideoRedo GUI to make manual cuts* option is enabled kmttg will no longer schedule the commercial cut task. It's now expected that you use VideoRedo to output the cut file. You can use the default VideoRedo output file name with {{{" (02).mpg"}}} suffix or use the conventional {{{"_cut.mpg"}}} suffix when saving the output file in VideoRedo.
   This change is so that if you want to use certain VideoRedo settings such as audio boost you can do so since the "adcut" job ignores such settings.
   
   * Removed *-p* and *-P* options from handbrake profiles to make them compatible with recent new release of Handbrake 0.9.4.
   
   * Added job name & output file to each ---DONE--- message when a job completes.
   
   * Moved all VideoRedo related configuration items into VideoRedo tab under configuration. The tab is only displayed for windows systems.
   
   * In GUI mode, if a task in a job set is killed/cancelled then dependent scheduled tasks in same job set are now cancelled.

==v0p7e (11/20/2009)==

*ENHANCEMENTS*
   
   * Added new config option *Bring up VideoRedo GUI to make manual cuts*. Enabling this option enables you to skip *Ad Detect* task and instead bring up VideoRedo GUI automatically to allow you to define cut points manually. Once you save and close VideoRedo the remaining tasks such as *Ad Cut* etc. will proceed as normal. Previously you could not have VRD GUI come up automatically unless you had *Ad Detect* task enabled.
   
   * Each Auto Transfer entry now contains option to specify which TiVo to look at. Options are a single TiVo specified by name or "all". Entries setup before this enhancement will default to "all".

   * Added new global Auto Transfers global filter options:
      * *Filter out TiVo Suggestions* - when enabled do not process any TiVo suggestions.
      * *Only process KUID recordings* - when enabled only process TiVo recordings marked as "Keep Until I Delete".
      NOTE: If you don't use KUID feature on the TiVo this gives you a way to initiate transfers from your TiVo by having this option enabled and having kmttg auto transfers setup to transfer all recordings. For that setup once you mark a show as KUID on your TiVo it will transfer via kmttg auto transfers.
      * *Do not process recordings without ProgramId* - when enabled do not process recordings that don't have *ProgramId* identifier (typically programs that were transferred to your TiVos using TiVo Desktop or pyTivo).
   
   * Each Auto Transfer entry now contains a comskip.ini override option where you can specify a path to a comskip.ini that overrides the main comskip.ini setting. This is so that you can fine tune comskip for each individual auto transfer if you wish.
   
   * Added option to enable/disable each Auto Transfer entry. This is useful to be able to temporarily disable certain entries without having to delete them.
   
   * kmttg will look for additional metadata files ({{{.mpg.txt}}} or {{{_cut.mpg.txt}}}) when trying to launch AtomicParsley job. Previously it was looking for only {{{<encodeFile>.txt}}}
   
   * Renamed the *Remove .edl & .mpg files after comcut* option to *Remove Ad Detect files after Ad Cut* and added a separate *Remove .mpg file after Ad Cut* option. i.e. Before to clean up Ad Detect related files you also had to choose to remove .mpg file which is no longer necessary.
   
*CHANGES*

   * Auto Transfers processing now ignores currently recording or copy protected shows up front (a log message stating why they are skipped is still generated). Previously they were included in title/keyword matching only to issue error message later that they can't be downloaded.
   
   * Removed the confusing and discouraged for use *Create sub-folder for each download* option. If you want to create sub-folders then you can use *{{{[/]}}}* keyword in *File Naming* to do so (consult the configuring_kmttg Wiki).

*FIXES*

   * custom command with double quotes now handled properly
   
   * Fix to AtomicParsley metadata file parsing. Previously parser was not handling values with ":" characters which resulted in some metadata values not being included in AtomicParsley run.
   
   * Fix to preserve any manually added *ignorehistory* items added manually to auto.ini file. Previously saving auto transfer settings from GUI would eliminate them.
   
   * If *ProgramId* does not exist (such as for pyTivo pulls) then kmttg now creates a fake one out id in Url & file size as an alternate. Without a ProgramId a program is not marked as transferred by kmttg and therefore would keep getting pulled repeatedly.
   
   * Added --globoff option to curl commands so that special sequence of characters for curl such as #001 do not cause downloads to fail.


==v0p7d (11/01/2009)==

*ENHANCEMENTS*

   * Added new *push* task to initiate a push to a selected TiVo via pyTivo. You can specify specific video files to push, or last video file in sequence or all video files in sequence. This eliminates need to use "custom" job for pyTivo pushes as was previously recommended.
   
   * For *metadata* task there is now a config option under *Program Options* tab for specifying which video files to create metadata files for. You can choose individual video files, or last video file in sequence or all video files in sequence. (Previously the behavior was always just last video file in sequence).

   * Changed DATE column in Now Playing List table from *Day DD/MM/YYYY* format to include hours and mins: *Day DD/MM/YY hh:mm*
   
   * Added *TIME* column to Disk Space window bit rate table (showing total recording time for each channel).
   
   * Added user-contributed ffmpeg zune HD encoding profile (ff_zune_hd)
   
   * Added "START PROCESSING OF ENTRY: titleOnly - episodeTitle" messages to log file in auto transfers mode to make it easier to see what entries are to be processed in auto.log file.
   
*CHANGES*
   * For metadata file creation routines displayMajorNumber is now allowed to have sub-channel syntax. In older versions of pyTivo this was not allowed so kmttg was stripping off sub-channel number.

*FIXES*

   * custom job was not getting passed tivoFile name so {{{[tivoFile]}}} argument was not working.

==v0p7c (10/15/2009)==

*ENHANCEMENTS*

   * Added new NPL table columns: *DUR* (duration) and *Mbps* (bit rate in Megabits per second). The default order of columns is now set as: Icon, SHOW, DATE, CHANNEL, DUR, SIZE, Mbps

   * Added new button to TiVo tabs: *Disk Usage*. This shows a pie chart breaking down disk space usage into Keep Until Space Needed, Keep Until I Delete, Suggestions (if there are any), and Free Space.

   * Also as part of Disk Space Usage window there are statistics on total average bit rate and the estimated recording time remaining (using average bit rate and free space available for the calculation).

   * Also as part of Disk Space Usage window there is a table summarizing the bit rate per channel. Table has Channel, Size, Rate (Mbps) and Rate (GB/hour) columns and you can sort by any of those columns.

   * Now Playing List table now indicates which shows currently have running and queued jobs associated with them with a check mark icon and hour glass icon respectively. This makes it easy to see which shows you already launched for processing.

   * Added new VideoRedo related configuration option called *Use VideoRedo QS Fix video dimension filter*. With that option enabled the VRD QS fix task will apply video dimensions filter to the VideoRedo processing. This is to eliminate the *Video Dimensions Changed* error message that VideoRedo pops up for some shows while you are editing them. Note that kmttg uses ffmpeg to automatically detect the video dimensions, so there is no per show configuration needed - kmttg will figure it out automatically.

   * Free space check associated with *Check Available Disk Space* option now accounts for active downloads already in process when computing space remaining.
     (NOTE: Currently only download jobs are checked, not other jobs that consume disk space).

   * *Auto Transfers->Run in GUI* now refreshes Tivo NPL lists instead of clearing them.

   * metadata file generated from .TiVo file now also includes episodeNumber & mpaaRating if available.

   * In prior releases always the last column in the NPL table was stretched to fit window width. This was OK if SHOW column was last, but if changing column order it would look strange. Code is now updated to always stretch SHOW column wherever it may be located.

   * Changed Folder and Copy Protected icons to more closely match those TiVo uses.

   * TOTALS label now displays free disk space available if disk space total is configured for that TiVo. The label was shortened to take less horizontal space and total time is no longer displayed. You can use Disk Usage button to get more details on totals.

   * Changed *Return* button text to *Back* when in folder view mode of NPL table.

*FIXES*

   * Auto Transfers title matching now lowercases keywords when checking against title so as to make matching case insensitive as was always the intent. Previously one had to enter title as lowercase in the Auto Transfers setup in order to get a title match.

   * Fix for *IndexOutOfBoundsException* error when building file name out of keywords when keywords contain special characters such as *"$"*.

   * Don't write empty episodeNumber to metadata file. This fix actually makes it such that any key with empty values are not written to pyTivo metadata file.

   * metadata file generated from .TiVo file would sometimes put descriptionLanguage (usually "English") in place of program description.

   * Now Playing List is now cleared right away when *Refresh* button is pressed. This is to prevent interaction with the list while the refresh is happening which can lead to unpredictable results.

   * Don't process files if File Naming Template fails to generate a proper file name. This avoids situations for example of getting empty file names with just a file extension when there are no keywords available to make a proper file name.

   * When clicking on an NPL entry channel number & name were not being displayed as they should have.


==v0p7b (09/17/2009)==

FIXES
   * Fix for new exception issue introduced in v0p7a when clicking on any entry in FILES tab.
   
   * Changed Now Playing List XML parser to read in characters in UTF8 encoding format so that all special characters including foreign language characters are properly preserved. Previously special characters in Spanish & French language for example were being mangled.

==v0p7a (09/16/2009)==

*ENHANCEMENTS*
   * Added *Show Folders* option for each Tivo tab to display Now Playing List using folders instead of flat structure. Can easily toggle between folder and non folder display modes.
   
   * Added auto transfer *Date Filter* capability so you can filter entries by less than or greater than specified number of hours old.
   
   * Added auto transfer statistics printing to log file (total number of auto matches vs # shows checked for each Tivo).
   
   * Added icon for identification of TiVo suggestions.
   
   * Added icon for identification of copy protected shows (in addition to color coding).

   * Tivo discovery updated so as to be able to handle cases when Tivo IP assignments change dynamically.
   
   * TiVo discovery (Bonjour) now turned on as long as kmttg is running if "Look for Tivos on network" option is enabled (previously it would time out after 5 minutes). This is so that if there are any changes in Tivo IPs (for DHCP assigments that may be changing while kmttg is running) that kmttg can discover and automatically change the IPs appropriately. IP changes are automatically saved to config file.

*FIXES*

   * Applied user-supplied fix for Atomic Parsley call so that TV Episode & Episode Num show up correctly in iTunes.
   
   * Better exception handling if reading of .kmttg_settings file fails (perhaps because file is corrupted).

==v0p6k (09/03/2009)==

*CHANGES*
   * Added \r to history file writes so that simple DOS editors can easily edit the file.

   * Added more error checking for file rename following qsfix.

   * Updated Atomic Parsley run to handle pyTivo metadata files with name:value pairs without spaces.

*FIXES*
   * Don't allow folders ending in '.' characters since folders ending in '.' are illegal.

   * Fix to Atomic Parsley run to strip quotation characters from values obtained from metadata file. This was causing Atomic Parsley call to crash if metadata file contained quotes, and kmttg to shut down if in auto mode.

   * Fixed issue with debug mode not starting properly.

==v0p6j (07/11/2009)==

*ENHANCEMENTS*
   * Auto Transfers algorithm re-done to better optimize throughput when multiple Tivos exist on the network. No longer waits for all jobs on all Tivos to complete before launching new ones. The user specified *Check Tivos Interval* now applies independently to each Tivo.
   
   * Added encoding profile name to OUTPUT field in job monitor table for *encode* jobs so that you can see what encoding profile was selected for that run.
   
   * Added *File->Reset TiVo web server* menu item. This uses {{{http://<ip>/TiVoConnect?Command=ResetServer}}} which may help clear out conditions where TiVo is reporting "Server Busy" when attempting to download shows which seems to be fairly common for Series 2 Tivos.
   
   * Added user provided *me_zen* encoding profile which is profile for Creative Zen using mencoder.
   
   * Added *File->Clear all messages* menu item to clear the text message area.
   
   * Added *SRTFILE* keyword support to encoding profiles which represents full path closed captioned srt file.
   
   * Added new *Program Options* tab. Moved a couple of program related options under that tab and added a new *t2extract extra arguments* field where advanced users can enter optional arguments to add to t2extract program call for generating closed captions.
   
   * Moved *Overwite existing files* option from *General* tab to *File Settings* tab.
   
   * Cosmetic: Made CANCEL button background and error highlight background color a much lighter red to make it easier to read.
   
*FIXES*
   * Prevent launch of *custom* job multiple times in Auto Transfers mode when same show is on more than 1 Tivo.
   
   * Make sure *atomic* job is scheduled before *custom* job.
   
   * Do not allow multiple encode jobs of different kinds of same source file to run at same time.
   
   * Prevent Configuration dialog from being resized so as to avoid layout distortion.

==v0p6i (07/01/2009)==

*FIXES*
  * Bug fix to avoid null exception when clicking on OK in configuration dialog when Tivo detection option is disabled.

==v0.6h (06/27/2009)==

*ENHANCEMENTS*
   * Added new boolean configuration option *Overwrite existing files* under *General* tab. By default kmttg has always been designed skip a task if output file for that task already exists. This option can be enabled to force kmttg to run the task and overwrite the existing file anyway.

*FIXES*
   * Fix to Tivo detection algorithm to prevent exceptions for names with special characters.

==v0.6g (06/27/2009)==

*ENHANCEMENTS*
  * Added job insertion capability. Previously when starting a task set for a show and you forgot to enable a task there was no good way to add it without killing all running jobs and starting over. Now kmttg will insert the task into the task set if possible without you having to start over. For example, you start a download but forgot to enable decrypt. Previously if you then enabled decrypt and clicked on START JOBS again kmttg would try and decrypt the partially download .TiVo file. Now kmttg will queue up the decrypt job and wait for download to complete as is desired.

  * Switched to use Bonjour (MDNS) for networked Tivo discovery. Faster and perhaps more reliable method of Tivo detection compared to the older Tivo Beacon method. NOTE: Check still designed to stop after 5 minutes.

  * Added support for moving columns around for Tivo and FILES tables. You can hold down left mouse button on a column header and drag the column to a new position. Thus for example you can move *SHOW* column from last column to second column etc. Also kmttg will remember and restore same column order for each tab in next session.
  NOTE: In previous Java releases moving columns with mouse also was possible, however that would lead to exception problems which this release fixes.

  * Added *SOURCE* and *OUTPUT* columns to job monitor in place of *DESCRIPTION* column. This allows more text to be seen in output file name.

  * Added *Show full paths in Job Monitor* configuration option to control if you would like to see full path names in Job Monitor or not.

  * Added Help->About... menu that brings up a dialog showing current and latest version as well as html links to kmttg web pages.

  * Changed default tivo file naming template to {{{[title] ([monthNum]_[mday]_[year])}}}.

  * All sub-windows now are first positioned relative to main window instead of top left corner of the screen.

  * Minor: Changed *Other* tab name to *General* in configuration GUI.

  * Minor: Added an extra space to right justified *SIZE* and *DATE* table columns to give some more separation of text from next column.

  * Minor: Changed table column background grey columns to a much lighter shade of grey.

*FIXES*

  * Refreshing encoding profiles will not reset current encoding profile setting if still valid.

  * Removed *-aspect 16:9* from *ff_psp* profile so as to avoid distorting 4:3 aspect ratio sources.

  * Removed *-threads* argument from *ff_zune* profile since wmv codec does not allow for more than 1 thread.

  * Made all encode profile files DOS compatible so they can be edited with Windows simple Notepad editor.


==v0.6f (06/19/2009)==

*FIXES*

  * Discovered that `VideoRedo` does not allow/work with more than 1 job at a time. So now kmttg limits tasks using `VideoRedo` to one at a time.

==v0.6e (06/19/2009)==

*ENHANCEMENTS*

  * Main GUI window updated to use a separate tab for each Tivo (and a separate tab for FILES mode).



  * Tivo basic statistics now displayed as a label for each Tivo along with last time Now Playing List was updated.



  * Configuration dialog updated to separate out settings into different tabs for a cleaner/easier view of all the settings.



  * Added *Use `VideoRedo` GUI to review commercials* option that if set will start `VideoRedo` GUI following commercial detection job using the `.VPrj` file where you can review/adjust edits visually as desired. Then as soon as you close the `VideoRedo` GUI the next job in the pipe (normally would be the commercial cut job) will proceed.



  * Job Monitor now shows % complete for jobs where % complete is available and not the first running job (first running job has % complete in title so no need to duplicate).



  * Auto detected Tivos are now automatically saved to config.ini when detected.



  * Cosmetic: DATE & SIZE columns of Tivo Playlist table are now right justified so that numbers line up.





*FIXES*

  * Fixed endless looping error printing condition when Now Playing List retrieval fails.



  * kmttg now limits to 1000 number of stdout/stderr messages saved per process. Previously this was unlimited which could result in JVM out of memory problem. This was especially a problem when running "comcut" with mencoder for example.



  * When enabling *Look for Tivos on network* setting in config GUI if it will now take effect in current session. Previously kmttg would not look for Tivos after this was enabled until next GUI session.



  * Tivo names with special characters such as `'*'` caused some exception problems that are now fixed with this release.



  * When adding a Tivo manually in config, cyclic is now updated to show the latest addition



  * Corrected bug in checking active jobs running versus "active job limit" configuration setting.



==v0.6d (06/04/2009)==
NOTE: If upgrading a previous kmttg version in same installation directory, be sure to copy the new encode folder with updated profiles.

*ENHANCEMENTS*
  * SHOW column alphabetical sort now also sorts episodes of same show in date order

  * GUI mode will now remember tivo name selected on exit next time you start

  * Added encoding cpu_cores config option and added multi-core flags to all encoding profiles.  NOTE: New keyword CPU_CORES added to encoding profile files.
  
  * Added --videoredo option to comskip if `VideoRedo` is configured so that .VPrj file is created without need to edit comskip.ini
  
  * comskip task now shows % complete for each phase (only comskip, not adscan)

  * Added task dependency checking - will automatically add missing tasks if needed. For example if Ad Cut is selected without Ad Detect and Ad Detect output file is not available then automatically enables Ad Detect job.
  
  * Added auto transfer START and SHUTDOWN messages so that there is a record of when auto transfers service/background jobs are started and stopped.

  * Added -harddup option to mencoder for better audio/video sync for cut mpeg files

  * Changed comskip/comcut labels to Ad Detect/Ad Cut

  * Added season # to `AtomicParsley` processing (so that mpeg4 videos get season # metadata)

*FIXES*
  * Fixed auto mode crash problem related to unmapped mpaaRating when generating pyTivo metadata file.

  * Tool installer fix for Mac systems when setting executable file permissions to properly handle directories with spaces.

  * Filter out pyTivo beacons (previously pyTivo server was being treated as a Tivo)

  * Fix to apply toolTipsTimeout change when modified in config

==v0.6c (05/30/2009)==
NOTE: To upgrade from a previous java version easiest thing to do is replace the *kmttg.jar* file in previous installation with the one in the [http://kmttg.googlecode.com/files/kmttg_v0p6c.zip kmttg_v0p6c.zip] file.

*ENHANCEMENTS*

  * Added toolTips to most GUI components (with option to disable)

  * Remembers last main GUI selections and window width/height when re-starting GUI.

  * Added File Browser option for configure window for setting file and directory entries.
  (Double-click in the field to bring up File Browser).

  * Added *File->Save messages to file* menu entry as a convenient way to save kmttg message window contents to a file.

  * Added option to use *`VRD AdScan`* instead of comskip for commercial detection

  * Added error message display if custom job fails (exit status is non-zero).

  * Removed 'duration' field from metadata files as pyTivo won't use them anyway.

*FIXES*

  * Fix to advanced file naming constructs to allow spaces in literal strings.

==v0.6b (05/24/2009)==
*FIXES*

  * Fixed problem with obtaining Now Playing list of more than 256 shows.

*ENHANCEMENTS*

  * Added *Auto Transfers->Service* menu for Windows platform to create/start/stop/view status of Windows kmttg auto transfers service.

  * Added *Auto Transfers->Background Job* menu for other platforms to start/stop/view status of kmttg auto transfers background job.


==v0.6a (05/23/2009)==
*ENHANCEMENTS*

  * Completely ported to Java (supports Java 1.5 or later).

  * Much easier installation. For Windows & Mac platforms the 3rd party tools are automatically downloaded and installed if needed the first time you run the application. For Linux platforms the tools are searched for in run path.

  * Addition of "custom" job which you can enable to run whatever post-processing program/script you want.

  * When you use the *Auto Transfers-Add selected titles* entry to add auto transfer entries from Now Playing list the entries default to performing tasks selected in main window instead of just defaulting to download only. 

  * You can now double click on a job in monitor to see running job stdout/stderr details

  * Improved Now Playing List column sorting: does not reset sort choice each new listing

  * Now Playing List display now stretches vertically as well as horizontally so you can see more entries at a time without having to scroll.

  * Table columns can be re-sized manually

  * Better error reporting for any background task problems

  * Better error checking and highlighting in configuration.

  * Tivo beacon listening automatically shuts off after 10 minutes (no point listening for too long anyway)

==v0.5n (05/01/2009)==
*UPDATES*
  * Removed need for tivo_beacon.pm file by embedding functionality inside kmttg.pl.
  * Updated Now Playing URLs to replace %2F with /
  * Documentation is now all online - README.html included with distribution with links to the documentation.

==v0.5m (04/27/2009)==
*FIXES*
  * Fixed problem with batch/auto mode in problem last update (typo that prevented batch/auto mode from running).

==v0.5l (04/26/2009)==
*ENHANCEMENTS*
  * Added automatic Tivo detection which will automatically detect any Tivos on the LAN not already included in TIVOS list. Added option to disable that capability if desired.
  NOTE: This adds an extra file called tivo_beacon.pm to the installation set.
  
  * Added `AtomicParsley` configuration option. If `AtomicParsley` executable is defined in the configuration then kmttg will automatically add some meta data to mp4 files following the encoding step.
  NOTE: You also have to have pyTivo metadata defined/available since kmttg looks for information from file.mp4.txt file for `AtomicParsley` run.
  An `AtomicParsley` windows executable is now included as part of the win32 zip package.
  
  * Added newer versions of ffmpeg and comskip to win32 zip package.

  * Changed -me to -me_method in ffmpeg profiles to make it compatible with newer versions of ffmpeg. That argument is also backwards compatible.
  
  * Added hb_tivo_sd & hb_tivo_hd encoding profiles. Handbrake encoding profiles that work pretty well for encoding H.264 video + AC3 audio for native Tivo playback. Only difference between them is higher bitrate for hd version.
  
  * Added ffmpeg ff_tivo_sd & ff_tivo_hd profiles roughly equivalent to the above handbrake recipes, but ffmpeg is generally quite a bit faster than handbrake.

==v0.5k (03/15/2009)==
*ENHANCEMENTS*
  * Added new encoding profiles for popular Handbrake encoder. Handbrake command line executable now included in win32 zip file. Several of the main Handbrake profiles were added but it's easy to add your own as well if desired.
  
  * Handbrake profiles start with hb_ prefix and ffmpeg profiles were renamed to use ff_ prefix to make it easy to distinguish between them.
  
  * New configuration option to specify location of HandBrakeCLI added.

*IMPORTANT*: Because the encoding profile names change if you have auto transfers
that use encoding profiles you have to update them. You can do this as follows:
  # Auto Transfers -> Configure...
  # Select a title in the list
  # Update the encode cyclic profile name
  # Click on the UPDATE button
  # Repeat above steps as needed for each title
  # OK the form

==v0.5j (02/25/2009)==
*FIXES*
  * With prior version in some cases characters were incorrectly being treated as keywords and being replaced. Example:
  'Terminator: The Sarah Connor Chronicles'
  * The "min" in Terminator was being replaced with # minutes.

==v0.5i (02/15/2009)==
*ENHANCEMENTS*
  * Added capbility for advanced, conditional keywords in file naming template. Thus for example one can now define something like:
  `[mainTitle]["_Ep#" EpisodeNumber]_[wday]_[month]_[mday]`
  * In this example `"_Ep#xxx"` will be included in file name only if `EpisodeNumber` exists, otherwise `"_Ep#"` is not included in the file name.
  * Consult the html documentation for more details.
  
*FIXES*
  * Remove special character '$' for file names originating from Tivos. Files with that character got truncated in steps subsequent to download leading to problems.
  * Ensure Episode Number is always 3 digits.
  * For metadata creation no longer include episodeTitle as part of title since the metadata parsing issue has now been fixed in recent versions of pyTivo.

==v0.5h (01/31/2009)==
*ENHANCEMENTS*
  * FILES entry is now permanent option and first choice in Tivos cyclic (removed option of enabling/disabling FILES support as it was not very intuitive to have an option and leave it off by default).
  * seriesId is now included in metadata file if available.
  * Added Zune encoding profile.
  * Added capability to ignore history checking for specific programId's. This is useful for certain shows that always have same programId even for different episodes. Those shows are prevented from being auto downloaded once programId is added first time to history file.
  * You can setup an exception for these shows by adding `<ignorehistory>` entries to auto.ini file as in following example:
  `<ignorehistory>`
  `SH1940720000`

*FIXES*
  * Add deletion of .edl file when VRD is used for comcut step and the "Remove .edl & .mpg files after comcut" option is set.
  * Transform unicode data in metadata file generation from `.TiVo` files
  * In config GUI moved DEL button to be right beside ADD button (cosmetic)

==v0.5g (12/14/2008)==
*ENHANCEMENTS*
  * Added "captions" option which uses `T2Sami` to extract captions from `.TiVo` or .mpg files. This creates a .srt file with same name as the video file from which it was derived but using .srt suffix.
  * This option is only enabled for Windows machines with path to "t2extract.exe" program specified in the configuration.
  
==v0.5f (11/19/2008)==
*ENHANCEMENTS*
 * Added percentage complete for ffmpeg encodes (previously only time was displayed)
  
*FIXES*
  * Auto transfers were not working properly with cached data
  * Fixed problem with auto run in GUI with cached data
  * In auto transfers configuration GUI the list type & keywords fields were not updated when using UPDATE button to change type or keywords 

==v0.5e (11/02/2008)==
*ENHANCEMENTS*
  * Added option to check for low disk space (user can specify min desired space). Option is disabled by default but can be enabled under configuration. With option enabled, jobs will not run if there is not sufficient disk space available according to specified minimum.
  * Forward slash in show name replaced with underscore to avoid undesired sub-folders.
  * In auto transfer mode `.TiVo` files are now not re-downloaded if they already exist in destination dir.
  
*FIXES*
  * tivostream profiles changed to use full paths instead of relative path such that they still work if running in windows service mode.
  * This change affected files under encode directory and tivo_mp4_encode.pl
    
==v0.5d (10/23/2008)==
*ENHANCEMENTS*
  * Added documentation on how to get kmttg running as a service in Windows Vista.
    
*AUTO TRANSFERS MODE FIXES*
  * Encoding profile name was not being properly obtained from auto config setup and hence encoding in auto transfers mode was not working.
  * metadata and encode file name suffix was missing a leading "."

==v0.5c (10/18/2008)==
*ENHANCEMENTS*
  * Added `[monthNum]` as another keyword option for File Naming. This is 2 digit numeric month as compared to `[month]` which is 3 character abbreviation for month.
  * Remove "Copyright Tribune Media Services, Inc." from description text of shows downloaded from Tivo. That text shows up in all/most show descriptions and is not useful to display.
  
*FIXES*
  * After loading Now Playing List from Cache when clicking on a show in the list the show details were not being printed to message pane.

==v0.5b (10/04/2008)==
*ENHANCEMENTS*
  * Added "VRD QS fix" option which runs `VideoRedo` Quickstream Fix in batch mode on .mpg files (Windows only). The option is enabled only if `VideoRedo` is configured and is also available in Auto Transfers mode.
  
  * "comcut" step will use `VideoRedo` in batch mode instead of "mencoder" for the commercial cutting step if `VideoRedo` is configured. `VideoRedo` does a much better job of keeping audio/video in sync when doing the cuts.
  
  NOTE: You need to configure comskip.ini to set output_videoredo=1 such that when "comskip" is run a `VideoRedo` .VPrj file is created.
  
==v0.5a (09/26/2008)==
*ENHANCEMENTS*
  * Overhauled the encoding setup to make it easier to use as well as more flexible:
    * Added pre-defined encoding profiles for Ipod, PS3, Xbox360, PSP, Tivo Streaming and low and high bitrate H.264.
    * Each encoding profile is defined in an "encode" folder with a .enc file extension
    * You can add your own or modify existing .enc files to add more profiles
    * Added encoding profiles to create Tivo streamable H.264 mpeg4 videos
    * Menu entry added for refreshing encoding profiles so you don't have to re-start kmttg when adding/modifying profiles.

  * Overhauled auto downloads setup to allow different tasks(metadata, decrypt, comskip, comcut, encode) to be defined for each entry. You can also define different encoding profiles to each as well if you use the encode option.

  * Added an UPDATE button in auto download configuration to allow modifying an existing entry instead of having to delete it and re-enter it.

  * Added "Create sub-folder" option which if enabled will create a separate sub-folder for each show that is processed. The sub-folder is defined with same name as the File Naming definition but without any file suffix.

  * Added `"[/]"` keyword to File Naming definition which represents a folder separator so that you can define custom sub-folders as part of the output files.

  * Added Now Playing List caching
    * This avoids having to wait to re-download Now Playing List for a Tivo if you have already downloaded it recently in the same kmttg session.
    * Configuration option added to define cache timeout (can specify 0 for no cache)
    * Menu entry added to clear all cache

  * Included recent version of ffmpeg in win32 tools zip file with more codecs compiled in as well as ability to encode H.264 + AC3.

===IMPORTANT NOTES AND CONFIGURATION CHANGES===

  * For Windows users you should download the kmttg_win32_tools_v0p5.zip package to get the new version of ffmpeg. Also, since the path to ffmpeg changed you should adjust your path to ffmpeg in configuration accordingly.

  * Because of changes in auto downloads you must re-run auto download configuration and assign which tasks you want to run for each entry.

  * The kmttg zip file now includes an "encode" folder with encoding profiles as well as a "qt-faststart" folder (see documentation for details on that).