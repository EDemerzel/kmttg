#labels Featured
=RELEASE NOTES=

==v0p6i (07/01/2009)==

*FIXES*
  * Bug fix to avoid null exception when clicking on OK in configuration dialog when Tivo detection option is disabled.

==v0.6h (06/27/2009)==

*ENHANCEMENTS*
   * Added new boolean configuration option *Overwrite existing files* under *General* tab. By default kmttg has always been designed skip a task if output file for that task already exists. This option can be enabled to force kmttg to run the task and overwrite the existing file anyway.

*FIXES*
   * Fix to Tivo detection algorithm to prevent exceptions for names with special characters.

==v0.6g (06/27/2009)==

*ENHANCEMENTS*
  * Added job insertion capability. Previously when starting a task set for a show and you forgot to enable a task there was no good way to add it without killing all running jobs and starting over. Now kmttg will insert the task into the task set if possible without you having to start over. For example, you start a download but forgot to enable decrypt. Previously if you then enabled decrypt and clicked on START JOBS again kmttg would try and decrypt the partially download .TiVo file. Now kmttg will queue up the decrypt job and wait for download to complete as is desired.

  * Switched to use Bonjour (MDNS) for networked Tivo discovery. Faster and perhaps more reliable method of Tivo detection compared to the older Tivo Beacon method. NOTE: Check still designed to stop after 5 minutes.

  * Added support for moving columns around for Tivo and FILES tables. You can hold down left mouse button on a column header and drag the column to a new position. Thus for example you can move *SHOW* column from last column to second column etc. Also kmttg will remember and restore same column order for each tab in next session.
  NOTE: In previous Java releases moving columns with mouse also was possible, however that would lead to exception problems which this release fixes.

  * Added *SOURCE* and *OUTPUT* columns to job monitor in place of *DESCRIPTION* column. This allows more text to be seen in output file name.

  * Added *Show full paths in Job Monitor* configuration option to control if you would like to see full path names in Job Monitor or not.

  * Added Help->About... menu that brings up a dialog showing current and latest version as well as html links to kmttg web pages.

  * Changed default tivo file naming template to {{{[title] ([monthNum]_[mday]_[year])}}}.

  * All sub-windows now are first positioned relative to main window instead of top left corner of the screen.

  * Minor: Changed *Other* tab name to *General* in configuration GUI.

  * Minor: Added an extra space to right justified *SIZE* and *DATE* table columns to give some more separation of text from next column.

  * Minor: Changed table column background grey columns to a much lighter shade of grey.

*FIXES*

  * Refreshing encoding profiles will not reset current encoding profile setting if still valid.

  * Removed *-aspect 16:9* from *ff_psp* profile so as to avoid distorting 4:3 aspect ratio sources.

  * Removed *-threads* argument from *ff_zune* profile since wmv codec does not allow for more than 1 thread.

  * Made all encode profile files DOS compatible so they can be edited with Windows simple Notepad editor.


==v0.6f (06/19/2009)==

*FIXES*

  * Discovered that `VideoRedo` does not allow/work with more than 1 job at a time. So now kmttg limits tasks using `VideoRedo` to one at a time.

==v0.6e (06/19/2009)==

*ENHANCEMENTS*

  * Main GUI window updated to use a separate tab for each Tivo (and a separate tab for FILES mode).



  * Tivo basic statistics now displayed as a label for each Tivo along with last time Now Playing List was updated.



  * Configuration dialog updated to separate out settings into different tabs for a cleaner/easier view of all the settings.



  * Added *Use `VideoRedo` GUI to review commercials* option that if set will start `VideoRedo` GUI following commercial detection job using the `.VPrj` file where you can review/adjust edits visually as desired. Then as soon as you close the `VideoRedo` GUI the next job in the pipe (normally would be the commercial cut job) will proceed.



  * Job Monitor now shows % complete for jobs where % complete is available and not the first running job (first running job has % complete in title so no need to duplicate).



  * Auto detected Tivos are now automatically saved to config.ini when detected.



  * Cosmetic: DATE & SIZE columns of Tivo Playlist table are now right justified so that numbers line up.





*FIXES*

  * Fixed endless looping error printing condition when Now Playing List retrieval fails.



  * kmttg now limits to 1000 number of stdout/stderr messages saved per process. Previously this was unlimited which could result in JVM out of memory problem. This was especially a problem when running "comcut" with mencoder for example.



  * When enabling *Look for Tivos on network* setting in config GUI if it will now take effect in current session. Previously kmttg would not look for Tivos after this was enabled until next GUI session.



  * Tivo names with special characters such as `'*'` caused some exception problems that are now fixed with this release.



  * When adding a Tivo manually in config, cyclic is now updated to show the latest addition



  * Corrected bug in checking active jobs running versus "active job limit" configuration setting.



==v0.6d (06/04/2009)==
NOTE: If upgrading a previous kmttg version in same installation directory, be sure to copy the new encode folder with updated profiles.

*ENHANCEMENTS*
  * SHOW column alphabetical sort now also sorts episodes of same show in date order

  * GUI mode will now remember tivo name selected on exit next time you start

  * Added encoding cpu_cores config option and added multi-core flags to all encoding profiles.  NOTE: New keyword CPU_CORES added to encoding profile files.
  
  * Added --videoredo option to comskip if `VideoRedo` is configured so that .VPrj file is created without need to edit comskip.ini
  
  * comskip task now shows % complete for each phase (only comskip, not adscan)

  * Added task dependency checking - will automatically add missing tasks if needed. For example if Ad Cut is selected without Ad Detect and Ad Detect output file is not available then automatically enables Ad Detect job.
  
  * Added auto transfer START and SHUTDOWN messages so that there is a record of when auto transfers service/background jobs are started and stopped.

  * Added -harddup option to mencoder for better audio/video sync for cut mpeg files

  * Changed comskip/comcut labels to Ad Detect/Ad Cut

  * Added season # to `AtomicParsley` processing (so that mpeg4 videos get season # metadata)

*FIXES*
  * Fixed auto mode crash problem related to unmapped mpaaRating when generating pyTivo metadata file.

  * Tool installer fix for Mac systems when setting executable file permissions to properly handle directories with spaces.

  * Filter out pyTivo beacons (previously pyTivo server was being treated as a Tivo)

  * Fix to apply toolTipsTimeout change when modified in config

==v0.6c (05/30/2009)==
NOTE: To upgrade from a previous java version easiest thing to do is replace the *kmttg.jar* file in previous installation with the one in the [http://kmttg.googlecode.com/files/kmttg_v0p6c.zip kmttg_v0p6c.zip] file.

*ENHANCEMENTS*

  * Added toolTips to most GUI components (with option to disable)

  * Remembers last main GUI selections and window width/height when re-starting GUI.

  * Added File Browser option for configure window for setting file and directory entries.
  (Double-click in the field to bring up File Browser).

  * Added *File->Save messages to file* menu entry as a convenient way to save kmttg message window contents to a file.

  * Added option to use *`VRD AdScan`* instead of comskip for commercial detection

  * Added error message display if custom job fails (exit status is non-zero).

  * Removed 'duration' field from metadata files as pyTivo won't use them anyway.

*FIXES*

  * Fix to advanced file naming constructs to allow spaces in literal strings.

==v0.6b (05/24/2009)==
*FIXES*

  * Fixed problem with obtaining Now Playing list of more than 256 shows.

*ENHANCEMENTS*

  * Added *Auto Transfers->Service* menu for Windows platform to create/start/stop/view status of Windows kmttg auto transfers service.

  * Added *Auto Transfers->Background Job* menu for other platforms to start/stop/view status of kmttg auto transfers background job.


==v0.6a (05/23/2009)==
*ENHANCEMENTS*

  * Completely ported to Java (supports Java 1.5 or later).

  * Much easier installation. For Windows & Mac platforms the 3rd party tools are automatically downloaded and installed if needed the first time you run the application. For Linux platforms the tools are searched for in run path.

  * Addition of "custom" job which you can enable to run whatever post-processing program/script you want.

  * When you use the *Auto Transfers-Add selected titles* entry to add auto transfer entries from Now Playing list the entries default to performing tasks selected in main window instead of just defaulting to download only. 

  * You can now double click on a job in monitor to see running job stdout/stderr details

  * Improved Now Playing List column sorting: does not reset sort choice each new listing

  * Now Playing List display now stretches vertically as well as horizontally so you can see more entries at a time without having to scroll.

  * Table columns can be re-sized manually

  * Better error reporting for any background task problems

  * Better error checking and highlighting in configuration.

  * Tivo beacon listening automatically shuts off after 10 minutes (no point listening for too long anyway)

==v0.5n (05/01/2009)==
*UPDATES*
  * Removed need for tivo_beacon.pm file by embedding functionality inside kmttg.pl.
  * Updated Now Playing URLs to replace %2F with /
  * Documentation is now all online - README.html included with distribution with links to the documentation.

==v0.5m (04/27/2009)==
*FIXES*
  * Fixed problem with batch/auto mode in problem last update (typo that prevented batch/auto mode from running).

==v0.5l (04/26/2009)==
*ENHANCEMENTS*
  * Added automatic Tivo detection which will automatically detect any Tivos on the LAN not already included in TIVOS list. Added option to disable that capability if desired.
  NOTE: This adds an extra file called tivo_beacon.pm to the installation set.
  
  * Added `AtomicParsley` configuration option. If `AtomicParsley` executable is defined in the configuration then kmttg will automatically add some meta data to mp4 files following the encoding step.
  NOTE: You also have to have pyTivo metadata defined/available since kmttg looks for information from file.mp4.txt file for `AtomicParsley` run.
  An `AtomicParsley` windows executable is now included as part of the win32 zip package.
  
  * Added newer versions of ffmpeg and comskip to win32 zip package.

  * Changed -me to -me_method in ffmpeg profiles to make it compatible with newer versions of ffmpeg. That argument is also backwards compatible.
  
  * Added hb_tivo_sd & hb_tivo_hd encoding profiles. Handbrake encoding profiles that work pretty well for encoding H.264 video + AC3 audio for native Tivo playback. Only difference between them is higher bitrate for hd version.
  
  * Added ffmpeg ff_tivo_sd & ff_tivo_hd profiles roughly equivalent to the above handbrake recipes, but ffmpeg is generally quite a bit faster than handbrake.

==v0.5k (03/15/2009)==
*ENHANCEMENTS*
  * Added new encoding profiles for popular Handbrake encoder. Handbrake command line executable now included in win32 zip file. Several of the main Handbrake profiles were added but it's easy to add your own as well if desired.
  
  * Handbrake profiles start with hb_ prefix and ffmpeg profiles were renamed to use ff_ prefix to make it easy to distinguish between them.
  
  * New configuration option to specify location of HandBrakeCLI added.

*IMPORTANT*: Because the encoding profile names change if you have auto transfers
that use encoding profiles you have to update them. You can do this as follows:
  # Auto Transfers -> Configure...
  # Select a title in the list
  # Update the encode cyclic profile name
  # Click on the UPDATE button
  # Repeat above steps as needed for each title
  # OK the form

==v0.5j (02/25/2009)==
*FIXES*
  * With prior version in some cases characters were incorrectly being treated as keywords and being replaced. Example:
  'Terminator: The Sarah Connor Chronicles'
  * The "min" in Terminator was being replaced with # minutes.

==v0.5i (02/15/2009)==
*ENHANCEMENTS*
  * Added capbility for advanced, conditional keywords in file naming template. Thus for example one can now define something like:
  `[mainTitle]["_Ep#" EpisodeNumber]_[wday]_[month]_[mday]`
  * In this example `"_Ep#xxx"` will be included in file name only if `EpisodeNumber` exists, otherwise `"_Ep#"` is not included in the file name.
  * Consult the html documentation for more details.
  
*FIXES*
  * Remove special character '$' for file names originating from Tivos. Files with that character got truncated in steps subsequent to download leading to problems.
  * Ensure Episode Number is always 3 digits.
  * For metadata creation no longer include episodeTitle as part of title since the metadata parsing issue has now been fixed in recent versions of pyTivo.

==v0.5h (01/31/2009)==
*ENHANCEMENTS*
  * FILES entry is now permanent option and first choice in Tivos cyclic (removed option of enabling/disabling FILES support as it was not very intuitive to have an option and leave it off by default).
  * seriesId is now included in metadata file if available.
  * Added Zune encoding profile.
  * Added capability to ignore history checking for specific programId's. This is useful for certain shows that always have same programId even for different episodes. Those shows are prevented from being auto downloaded once programId is added first time to history file.
  * You can setup an exception for these shows by adding `<ignorehistory>` entries to auto.ini file as in following example:
  `<ignorehistory>`
  `SH1940720000`

*FIXES*
  * Add deletion of .edl file when VRD is used for comcut step and the "Remove .edl & .mpg files after comcut" option is set.
  * Transform unicode data in metadata file generation from `.TiVo` files
  * In config GUI moved DEL button to be right beside ADD button (cosmetic)

==v0.5g (12/14/2008)==
*ENHANCEMENTS*
  * Added "captions" option which uses `T2Sami` to extract captions from `.TiVo` or .mpg files. This creates a .srt file with same name as the video file from which it was derived but using .srt suffix.
  * This option is only enabled for Windows machines with path to "t2extract.exe" program specified in the configuration.
  
==v0.5f (11/19/2008)==
*ENHANCEMENTS*
 * Added percentage complete for ffmpeg encodes (previously only time was displayed)
  
*FIXES*
  * Auto transfers were not working properly with cached data
  * Fixed problem with auto run in GUI with cached data
  * In auto transfers configuration GUI the list type & keywords fields were not updated when using UPDATE button to change type or keywords 

==v0.5e (11/02/2008)==
*ENHANCEMENTS*
  * Added option to check for low disk space (user can specify min desired space). Option is disabled by default but can be enabled under configuration. With option enabled, jobs will not run if there is not sufficient disk space available according to specified minimum.
  * Forward slash in show name replaced with underscore to avoid undesired sub-folders.
  * In auto transfer mode `.TiVo` files are now not re-downloaded if they already exist in destination dir.
  
*FIXES*
  * tivostream profiles changed to use full paths instead of relative path such that they still work if running in windows service mode.
  * This change affected files under encode directory and tivo_mp4_encode.pl
    
==v0.5d (10/23/2008)==
*ENHANCEMENTS*
  * Added documentation on how to get kmttg running as a service in Windows Vista.
    
*AUTO TRANSFERS MODE FIXES*
  * Encoding profile name was not being properly obtained from auto config setup and hence encoding in auto transfers mode was not working.
  * metadata and encode file name suffix was missing a leading "."

==v0.5c (10/18/2008)==
*ENHANCEMENTS*
  * Added `[monthNum]` as another keyword option for File Naming. This is 2 digit numeric month as compared to `[month]` which is 3 character abbreviation for month.
  * Remove "Copyright Tribune Media Services, Inc." from description text of shows downloaded from Tivo. That text shows up in all/most show descriptions and is not useful to display.
  
*FIXES*
  * After loading Now Playing List from Cache when clicking on a show in the list the show details were not being printed to message pane.

==v0.5b (10/04/2008)==
*ENHANCEMENTS*
  * Added "VRD QS fix" option which runs `VideoRedo` Quickstream Fix in batch mode on .mpg files (Windows only). The option is enabled only if `VideoRedo` is configured and is also available in Auto Transfers mode.
  
  * "comcut" step will use `VideoRedo` in batch mode instead of "mencoder" for the commercial cutting step if `VideoRedo` is configured. `VideoRedo` does a much better job of keeping audio/video in sync when doing the cuts.
  
  NOTE: You need to configure comskip.ini to set output_videoredo=1 such that when "comskip" is run a `VideoRedo` .VPrj file is created.
  
==v0.5a (09/26/2008)==
*ENHANCEMENTS*
  * Overhauled the encoding setup to make it easier to use as well as more flexible:
    * Added pre-defined encoding profiles for Ipod, PS3, Xbox360, PSP, Tivo Streaming and low and high bitrate H.264.
    * Each encoding profile is defined in an "encode" folder with a .enc file extension
    * You can add your own or modify existing .enc files to add more profiles
    * Added encoding profiles to create Tivo streamable H.264 mpeg4 videos
    * Menu entry added for refreshing encoding profiles so you don't have to re-start kmttg when adding/modifying profiles.

  * Overhauled auto downloads setup to allow different tasks(metadata, decrypt, comskip, comcut, encode) to be defined for each entry. You can also define different encoding profiles to each as well if you use the encode option.

  * Added an UPDATE button in auto download configuration to allow modifying an existing entry instead of having to delete it and re-enter it.

  * Added "Create sub-folder" option which if enabled will create a separate sub-folder for each show that is processed. The sub-folder is defined with same name as the File Naming definition but without any file suffix.

  * Added `"[/]"` keyword to File Naming definition which represents a folder separator so that you can define custom sub-folders as part of the output files.

  * Added Now Playing List caching
    * This avoids having to wait to re-download Now Playing List for a Tivo if you have already downloaded it recently in the same kmttg session.
    * Configuration option added to define cache timeout (can specify 0 for no cache)
    * Menu entry added to clear all cache

  * Included recent version of ffmpeg in win32 tools zip file with more codecs compiled in as well as ability to encode H.264 + AC3.

===IMPORTANT NOTES AND CONFIGURATION CHANGES===

  * For Windows users you should download the kmttg_win32_tools_v0p5.zip package to get the new version of ffmpeg. Also, since the path to ffmpeg changed you should adjust your path to ffmpeg in configuration accordingly.

  * Because of changes in auto downloads you must re-run auto download configuration and assign which tasks you want to run for each entry.

  * The kmttg zip file now includes an "encode" folder with encoding profiles as well as a "qt-faststart" folder (see documentation for details on that).